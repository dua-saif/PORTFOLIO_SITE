{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Projects | Dua Saif Portfolio</title>
<style>
    body { font-family: Arial, sans-serif; margin: 40px; background: #fafafa; }
    .filter-buttons {
        margin-bottom: 20px;
        text-align: center;
    }
    .filter-buttons button {
        margin: 0 6px;
        padding: 8px 16px;
        border: none;
        background-color: #0073b1;
        color: white;
        font-weight: bold;
        cursor: pointer;
        border-radius: 4px;
        transition: background-color 0.3s ease;
    }
    .filter-buttons button:hover,
    .filter-buttons button.active {
        background-color: #004974;
    }
    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
        gap: 24px;
    }
    .project-card {
        background: white;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgb(0 0 0 / 0.1);
        padding: 16px;
        display: flex;
        flex-direction: column;
        transition: transform 0.2s ease;
    }
    .project-card:hover {
        transform: translateY(-4px);
    }
    .project-img {
        width: 100%;
        height: 160px;
        object-fit: cover;
        border-radius: 8px;
        margin-bottom: 12px;
    }
    .tech-badges {
        margin-bottom: 12px;
    }
    .tech-badge {
        display: inline-block;
        background-color: #e1ecf4;
        color: #39739d;
        padding: 4px 10px;
        border-radius: 15px;
        font-size: 12px;
        margin-right: 6px;
        margin-bottom: 6px;
    }
    .links a {
        text-decoration: none;
        color: #0073b1;
        font-weight: 600;
        margin-right: 12px;
    }
    .status-label {
        color: #d9534f;
        font-weight: bold;
        font-size: 14px;
    }
</style>
</head>
<body>

<h1 style="text-align:center; margin-bottom: 30px;">My Projects</h1>

<div class="filter-buttons">
    <button class="filter-btn active" data-tech="all">All</button>
    {% for tech in all_techs %}
        <button class="filter-btn" data-tech="{{ tech|lower }}">{{ tech }}</button>
    {% endfor %}
</div>

<div class="grid" id="projects-grid">
    {% for project in projects %}
    <div class="project-card" data-techs="{{ project.tech_stack|lower }}">
        <img src="{{ project.image.url }}" alt="{{ project.title }}" class="project-img" />
        <h3>{{ project.title }}</h3>
        <p>{{ project.description }}</p>
        <div class="tech-badges">
            {% for tag in project.tech_tags %}
                <span class="tech-badge">{{ tag }}</span>
            {% endfor %}
        </div>
        <div class="links">
            {% if project.live_link and project.status == 'live' %}
                <a href="{{ project.live_link }}" target="_blank">Live Site</a>
            {% endif %}
            {% if project.github_link %}
                <a href="{{ project.github_link }}" target="_blank">GitHub</a>
            {% endif %}
            {% if project.youtube_link %}
                <a href="{{ project.youtube_link }}" target="_blank">YouTube</a>
            {% endif %}
            {% if project.status == 'coming_soon' %}
                <span class="status-label">Coming Soon</span>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>


<script>
// JavaScript for filtering projects by tech
const buttons = document.querySelectorAll('.filter-btn');
const projects = document.querySelectorAll('.project-card');

buttons.forEach(button => {
    button.addEventListener('click', () => {
        // Remove active class from all buttons
        buttons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');

        const tech = button.getAttribute('data-tech');

        projects.forEach(project => {
            const techs = project.getAttribute('data-techs');
            if (tech === 'all' || techs.includes(tech)) {
                project.style.display = 'flex';
            } else {
                project.style.display = 'none';
            }
        });
    });
});
</script>

</body>
</html>
